<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  <th:block th:replace="fragments/CssFragment :: css"></th:block>
  <title>Cadastro de produto</title>
</head>
<body>
  <div th:replace="layout/fragments/BarraNavegacao :: navbar"></div>
  <div class="container-fluid bg-color-store">
    <div class="row">
      <div th:replace="layout/fragments/Menu :: menu"></div>
      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <div class="container-fluid">
            <form th:action="${produto.id} == null ? @{/produtos/salvar} : @{/produtos/update/{codigo}(codigo=${produto.id})}" method="post" th:object="${produto}">
              <th:block th:include="fragments/MensagemSucesso"></th:block>
              <th:block th:include="fragments/MensagensErroValidacao"></th:block>
              <div class="shadow-sm mb-5 bg-body rounded">
                <div class="card">
                  <h5 class="card-header">Cadastro de produto</h5>
                  <div class="card-body">
                    <div class="row">
                      <div class="mb-3 col-sm-8">
                        <label for="codigoBarra" class="form-label">Cód Barra</label>
                        <div class="input-group">
                          <span class="input-group-text"><i class="fa fa-barcode" aria-hidden="true"></i></span>
                          <input th:value="*{codigoBarra}" autocomplete="off" type="text" minlength="13" maxlength="30" class="form-control" id="codigoBarra" name="codigoBarra">
                        </div>
                      </div>
                      <div class="mb-3 col-sm-4">
                        <label for="codProduto" class="form-label">Cód Produto</label>
                        <input th:value="*{codProduto}" autocomplete="off" type="text" minlength="3" maxlength="30" class="form-control" id="codProduto" name="codProduto">
                      </div>
                    </div>
                    <div class="mb-3">
                      <label for="descricaoProduto" class="form-label">Descrição do produto</label>
                      <input type="text" autocomplete="off" th:value="*{descricaoProduto}" minlength="5" maxlength="255" class="form-control" id="descricaoProduto" name="descricaoProduto"/>
                    </div>
                    <div class="mb-3">
                      <label for="quantidade" class="form-label">Quantidade</label>
                      <input type="number" autocomplete="off" th:value="*{quantidade}" min="0" class="form-control" id="quantidade" name="quantidade"/>
                    </div>
                    <div class="row">
                      <div class="col-sm-6">
                        <label for="valorCusto" class="form-label">Valor de custo</label>
                        <div class="input-group mb-3">
                          <span class="input-group-text"><i class="fa fa-money" aria-hidden="true"></i></span>
                          <input type="text" autocomplete="off" maxlength="9" th:value="*{valorCusto}" min="0" class="form-control" id="valorCusto" name="valorCusto"/>
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <label for="valorVenda" class="form-label">Valor de venda</label>
                        <div class="input-group mb-3">
                          <span class="input-group-text"><i class="fa fa-money" aria-hidden="true"></i></span>
                          <input type="text" autocomplete="off" maxlength="9" th:value="*{valorVenda}" min="0" class="form-control" id="valorVenda" name="valorVenda"/>
                        </div>
                      </div>
                      <input type="hidden" th:field="*{versaoObjeto}" id="versaoObjeto" name="versaoObjeto"/>
                      <input type="hidden" th:field="*{tenant}" id="tenant" name="tenant"/>
                    </div>
                    <div class="row">
                      <div class="col-sm-2 mb-1">
                        <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="ativo" name="ativo" th:checked="*{ativo}">
                          <label class="form-check-label" for="ativo">Ativo?</label>
                        </div>
                      </div>
                      <div class="col-sm-2">
                        <a class="link-calculadora" href="https://www.shopify.com.br/ferramentas/calculadora-margem-de-lucro" target="_blank">Calculadora de lucro</a>
                      </div>
                    </div>

                    <div class="btn-group mt-2" role="group" aria-label="Basic mixed styles example">
                      <button type="submit" class="btn btn-sm btn-outline-secondary">
                        Salvar
                      </button>
                      <a type="button" th:href="@{/produtos/pesquisar}" class="btn btn-sm btn-outline-secondary">
                        Pesquisar
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </main>
    </div>
  </div>
  <div id="divLoading"></div>
<th:block th:replace="fragments/JsFragment :: script"></th:block>
<script th:src="@{/alldrink-js/produto/Novo.js}" type="text/javascript"></script>
</body>
</html>